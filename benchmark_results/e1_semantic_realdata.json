{
  "metrics": {
    "retrieval": {
      "precision_at": {
        "1": 0.875,
        "10": 0.6800000000000006,
        "20": 0.7025,
        "5": 0.7449999999999993
      },
      "recall_at": {
        "1": 0.005482325042832563,
        "10": 0.05217018920383589,
        "20": 0.08855806548250165,
        "5": 0.02652727147266622
      },
      "mrr": 0.875,
      "ndcg_at": {
        "10": 0.6907152914006982,
        "5": 0.7359089279225567,
        "1": 0.875,
        "20": 0.712118823126365
      },
      "map": 0.16370249217173907,
      "query_count": 80
    },
    "topic_separation": {
      "intra_topic_similarity": 0.6994714692679234,
      "inter_topic_similarity": 0.6896034298708161,
      "separation_ratio": 1.014309730737499,
      "silhouette_score": 0.026160713838173377,
      "boundary_f1": 0.5168949771689497,
      "num_topics": 5,
      "num_pairs_evaluated": 9990,
      "intra_distribution": [
        0.6994714692679234,
        0.04503453292478085
      ],
      "inter_distribution": [
        0.6896034298708161,
        0.03054892528444128
      ]
    },
    "noise_robustness": {
      "mrr_degradation": [
        [
          0.0,
          0.875
        ],
        [
          0.1,
          0.875
        ],
        [
          0.2,
          0.875
        ],
        [
          0.3,
          0.875
        ]
      ],
      "precision_degradation": [],
      "robustness_threshold": null,
      "avg_relative_degradation": 0.0,
      "meets_robustness_target": true
    },
    "domain_coverage": {
      "per_domain_metrics": {
        "General": {
          "precision_at": {
            "20": 0.7025,
            "1": 0.875,
            "5": 0.7449999999999993,
            "10": 0.6800000000000006
          },
          "recall_at": {
            "1": 0.005482325042832563,
            "5": 0.02652727147266622,
            "10": 0.05217018920383589,
            "20": 0.08855806548250165
          },
          "mrr": 0.875,
          "ndcg_at": {
            "5": 0.7359089279225567,
            "10": 0.6907152914006982,
            "1": 0.875,
            "20": 0.712118823126365
          },
          "map": 0.16370249217173907,
          "query_count": 80
        }
      },
      "mrr_variance": 0.0,
      "worst_domain": "General",
      "best_domain": "General",
      "all_domains_pass": true
    },
    "composite": {
      "overall_score": 0.5890412945067236,
      "retrieval_score": 0.5836856055810988,
      "separation_score": 0.21439017424761359,
      "robustness_score": 1.0,
      "coverage_score": 0.9124999999999999,
      "all_targets_met": false,
      "targets_met_count": 3,
      "targets_total": 4
    }
  },
  "ablation": {
    "e1_only_mrr": 0.0,
    "e1_e5_mrr": null,
    "e1_e7_mrr": null,
    "e1_all_semantic_mrr": null,
    "full_multispace_mrr": null,
    "e1_is_best_foundation": true,
    "enhancements": {}
  },
  "per_query_type": {
    "SameTopic": {
      "precision_at": {
        "10": 0.7771428571428578,
        "20": 0.8028571428571429,
        "5": 0.8514285714285706,
        "1": 1.0
      },
      "recall_at": {
        "10": 0.05962307337581245,
        "5": 0.03031688168304711,
        "1": 0.006265514334665786,
        "20": 0.1012092176942876
      },
      "mrr": 1.0,
      "ndcg_at": {
        "5": 0.8410387747686362,
        "1": 1.0,
        "20": 0.8138500835729886,
        "10": 0.7893889044579409
      },
      "map": 0.1870885624819875,
      "query_count": 70
    },
    "OffTopic": {
      "precision_at": {
        "10": 0.0,
        "1": 0.0,
        "5": 0.0,
        "20": 0.0
      },
      "recall_at": {
        "1": 0.0,
        "5": 0.0,
        "10": 0.0,
        "20": 0.0
      },
      "mrr": 0.0,
      "ndcg_at": {
        "5": 0.0,
        "10": 0.0,
        "1": 0.0,
        "20": 0.0
      },
      "map": 0.0,
      "query_count": 10
    }
  },
  "timings": {
    "total_ms": 2164,
    "retrieval_ms": 120,
    "separation_ms": 1439,
    "noise_robustness_ms": 364,
    "domain_analysis_ms": 119,
    "ablation_ms": 0
  },
  "config": {
    "k_values": [
      1,
      5,
      10,
      20
    ],
    "noise_levels": [
      0.0,
      0.1,
      0.2,
      0.3
    ],
    "run_ablation": true,
    "run_domain_analysis": true,
    "num_separation_pairs": 5000,
    "seed": 42,
    "show_progress": true
  },
  "dataset_stats": {
    "num_documents": 1000,
    "num_queries": 0,
    "num_topics": 5,
    "num_domains": 1,
    "num_docs_with_embeddings": 1000,
    "embedding_dimension": 1024
  },
  "validation": {
    "all_passed": false,
    "checks_passed": 3,
    "checks_total": 4,
    "checks": [
      {
        "description": "MRR >= 0.70",
        "expected": ">= 0.70",
        "actual": "0.875",
        "passed": true
      },
      {
        "description": "P@10 >= 0.60",
        "expected": ">= 0.60",
        "actual": "0.680",
        "passed": true
      },
      {
        "description": "Topic separation ratio >= 1.5",
        "expected": ">= 1.5",
        "actual": "1.01",
        "passed": false
      },
      {
        "description": "MRR >= 0.55 at 0.2 noise",
        "expected": ">= 0.55",
        "actual": "0.875",
        "passed": true
      }
    ]
  }
}